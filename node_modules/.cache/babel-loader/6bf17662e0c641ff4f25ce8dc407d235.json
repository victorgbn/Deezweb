{"ast":null,"code":"var STORAGE_FAVORITE_KEY='deezweb.favorites';export default{// Retourne les favoris du localStorage du navigateur\ngetFavoritesFromStorage:function getFavoritesFromStorage(){return JSON.parse(window.localStorage.getItem(STORAGE_FAVORITE_KEY))||[];},// Vérifie si une musique se trouve dans les favoris\nisFavorite:function isFavorite(music){return Boolean(this.getFavoritesFromStorage().find(function(f){return f.id===music.id;}));},// Permet d'ajouter/supprimer un favori du localStorage\ntoggleFavorite:function toggleFavorite(music){if(this.isFavorite(music)){this.removeFavoriteFromStorage(music);}else{this.addFavoriteToStorage(music);}},// Ajoute un favori au localStorage\naddFavoriteToStorage:function addFavoriteToStorage(music){var favorites=this.getFavoritesFromStorage();favorites.push(music);window.localStorage.setItem(STORAGE_FAVORITE_KEY,JSON.stringify(favorites));},// Supprime un favori du localStorage\nremoveFavoriteFromStorage:function removeFavoriteFromStorage(music){var favorites=this.getFavoritesFromStorage();var musicIndex=favorites.findIndex(function(f){return f.id===music.id;});favorites.splice(musicIndex,1);window.localStorage.setItem(STORAGE_FAVORITE_KEY,JSON.stringify(favorites));}};","map":{"version":3,"sources":["/Users/victorgaubin/Documents/MMi Cours/2/JS JM/TP React Deezer/react-deezweb/src/FavService.jsx"],"names":["STORAGE_FAVORITE_KEY","getFavoritesFromStorage","JSON","parse","window","localStorage","getItem","isFavorite","music","Boolean","find","f","id","toggleFavorite","removeFavoriteFromStorage","addFavoriteToStorage","favorites","push","setItem","stringify","musicIndex","findIndex","splice"],"mappings":"AAAA,GAAMA,CAAAA,oBAAoB,CAAG,mBAA7B,CAEA,cAAe,CACZ;AACAC,uBAFY,mCAEc,CACrB,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BN,oBAA5B,CAAX,GAAiE,EAAxE,CACJ,CAJW,CAMZ;AACAO,UAPY,qBAODC,KAPC,CAOM,CACb,MAAOC,CAAAA,OAAO,CAAC,KAAKR,uBAAL,GAA+BS,IAA/B,CAAoC,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,EAAF,GAASJ,KAAK,CAACI,EAAnB,EAArC,CAAD,CAAd,CACJ,CATW,CAWZ;AACAC,cAZY,yBAYGL,KAZH,CAYU,CACrB,GAAI,KAAKD,UAAL,CAAgBC,KAAhB,CAAJ,CAA4B,CACxB,KAAKM,yBAAL,CAA+BN,KAA/B,EACH,CAFD,IAEO,CACH,KAAKO,oBAAL,CAA0BP,KAA1B,EACH,CAED,CAnBW,CAqBZ;AACAO,oBAtBY,+BAsBSP,KAtBT,CAsBgB,CACvB,GAAMQ,CAAAA,SAAS,CAAG,KAAKf,uBAAL,EAAlB,CACAe,SAAS,CAACC,IAAV,CAAeT,KAAf,EACAJ,MAAM,CAACC,YAAP,CAAoBa,OAApB,CAA4BlB,oBAA5B,CAAkDE,IAAI,CAACiB,SAAL,CAAeH,SAAf,CAAlD,EAEJ,CA3BW,CA6BZ;AACAF,yBA9BY,oCA8BcN,KA9Bd,CA8BqB,CAChC,GAAMQ,CAAAA,SAAS,CAAG,KAAKf,uBAAL,EAAlB,CACA,GAAMmB,CAAAA,UAAU,CAAGJ,SAAS,CAACK,SAAV,CAAoB,SAAAV,CAAC,QAAIA,CAAAA,CAAC,CAACC,EAAF,GAASJ,KAAK,CAACI,EAAnB,EAArB,CAAnB,CACAI,SAAS,CAACM,MAAV,CAAiBF,UAAjB,CAA6B,CAA7B,EACAhB,MAAM,CAACC,YAAP,CAAoBa,OAApB,CAA4BlB,oBAA5B,CAAkDE,IAAI,CAACiB,SAAL,CAAeH,SAAf,CAAlD,EAEA,CApCW,CAAf","sourcesContent":["const STORAGE_FAVORITE_KEY = 'deezweb.favorites'\n\nexport default {\n   // Retourne les favoris du localStorage du navigateur\n   getFavoritesFromStorage() {\n        return JSON.parse(window.localStorage.getItem(STORAGE_FAVORITE_KEY)) || []\n   },\n\n   // Vérifie si une musique se trouve dans les favoris\n   isFavorite(music) {\n        return Boolean(this.getFavoritesFromStorage().find(f => f.id === music.id))\n   },\n\n   // Permet d'ajouter/supprimer un favori du localStorage\n   toggleFavorite(music) {\n    if (this.isFavorite(music)) {\n        this.removeFavoriteFromStorage(music)\n    } else {\n        this.addFavoriteToStorage(music)\n    }\n\n   },\n  \n   // Ajoute un favori au localStorage\n   addFavoriteToStorage(music) {\n        const favorites = this.getFavoritesFromStorage()\n        favorites.push(music)\n        window.localStorage.setItem(STORAGE_FAVORITE_KEY, JSON.stringify(favorites))\n \n   },\n  \n   // Supprime un favori du localStorage\n   removeFavoriteFromStorage(music) {\n    const favorites = this.getFavoritesFromStorage()\n    const musicIndex = favorites.findIndex(f => f.id === music.id)\n    favorites.splice(musicIndex, 1)\n    window.localStorage.setItem(STORAGE_FAVORITE_KEY, JSON.stringify(favorites))\n \n   }\n}\n"]},"metadata":{},"sourceType":"module"}