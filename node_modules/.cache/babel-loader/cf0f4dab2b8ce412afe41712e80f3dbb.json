{"ast":null,"code":"const STORAGE_FAVORITE_KEY = 'deezweb.favorites';\nexport default {\n  // Retourne les favoris du localStorage du navigateur\n  getFavoritesFromStorage() {\n    return JSON.parse(window.localStorage.getItem(STORAGE_FAVORITE_KEY)) || [];\n  },\n\n  // Vérifie si une musique se trouve dans les favoris\n  isFavorite(music) {\n    return Boolean(this.getFavoritesFromStorage().find(f => f.id === music.id));\n  },\n\n  // Permet d'ajouter/supprimer un favori du localStorage\n  toggleFavorite(music) {\n    if (this.isFavorite(music)) {\n      this.removeFavoriteFromStorage(music);\n    } else {\n      this.addFavoriteToStorage(music);\n    }\n  },\n\n  // Ajoute un favori au localStorage\n  addFavoriteToStorage(music) {\n    const favorites = this.getFavoritesFromStorage();\n    favorites.push(music);\n    window.localStorage.setItem(STORAGE_FAVORITE_KEY, JSON.stringify(favorites));\n  },\n\n  // Supprime un favori du localStorage\n  removeFavoriteFromStorage(music) {\n    const favorites = this.getFavoritesFromStorage();\n    const musicIndex = favorites.findIndex(f => f.id === music.id);\n    favorites.splice(musicIndex, 1);\n    window.localStorage.setItem(STORAGE_FAVORITE_KEY, JSON.stringify(favorites));\n  }\n\n};","map":{"version":3,"sources":["/Users/victorgaubin/Documents/MMi Cours/2/JS JM/TP React Deezer/react-deezweb/src/FavService.jsx"],"names":["STORAGE_FAVORITE_KEY","getFavoritesFromStorage","JSON","parse","window","localStorage","getItem","isFavorite","music","Boolean","find","f","id","toggleFavorite","removeFavoriteFromStorage","addFavoriteToStorage","favorites","push","setItem","stringify","musicIndex","findIndex","splice"],"mappings":"AAAA,MAAMA,oBAAoB,GAAG,mBAA7B;AAEA,eAAe;AACZ;AACAC,EAAAA,uBAAuB,GAAG;AACrB,WAAOC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BN,oBAA5B,CAAX,KAAiE,EAAxE;AACJ,GAJW;;AAMZ;AACAO,EAAAA,UAAU,CAACC,KAAD,EAAQ;AACb,WAAOC,OAAO,CAAC,KAAKR,uBAAL,GAA+BS,IAA/B,CAAoCC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASJ,KAAK,CAACI,EAAxD,CAAD,CAAd;AACJ,GATW;;AAWZ;AACAC,EAAAA,cAAc,CAACL,KAAD,EAAQ;AACrB,QAAI,KAAKD,UAAL,CAAgBC,KAAhB,CAAJ,EAA4B;AACxB,WAAKM,yBAAL,CAA+BN,KAA/B;AACH,KAFD,MAEO;AACH,WAAKO,oBAAL,CAA0BP,KAA1B;AACH;AAED,GAnBW;;AAqBZ;AACAO,EAAAA,oBAAoB,CAACP,KAAD,EAAQ;AACvB,UAAMQ,SAAS,GAAG,KAAKf,uBAAL,EAAlB;AACAe,IAAAA,SAAS,CAACC,IAAV,CAAeT,KAAf;AACAJ,IAAAA,MAAM,CAACC,YAAP,CAAoBa,OAApB,CAA4BlB,oBAA5B,EAAkDE,IAAI,CAACiB,SAAL,CAAeH,SAAf,CAAlD;AAEJ,GA3BW;;AA6BZ;AACAF,EAAAA,yBAAyB,CAACN,KAAD,EAAQ;AAChC,UAAMQ,SAAS,GAAG,KAAKf,uBAAL,EAAlB;AACA,UAAMmB,UAAU,GAAGJ,SAAS,CAACK,SAAV,CAAoBV,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASJ,KAAK,CAACI,EAAxC,CAAnB;AACAI,IAAAA,SAAS,CAACM,MAAV,CAAiBF,UAAjB,EAA6B,CAA7B;AACAhB,IAAAA,MAAM,CAACC,YAAP,CAAoBa,OAApB,CAA4BlB,oBAA5B,EAAkDE,IAAI,CAACiB,SAAL,CAAeH,SAAf,CAAlD;AAEA;;AApCW,CAAf","sourcesContent":["const STORAGE_FAVORITE_KEY = 'deezweb.favorites'\n\nexport default {\n   // Retourne les favoris du localStorage du navigateur\n   getFavoritesFromStorage() {\n        return JSON.parse(window.localStorage.getItem(STORAGE_FAVORITE_KEY)) || []\n   },\n\n   // Vérifie si une musique se trouve dans les favoris\n   isFavorite(music) {\n        return Boolean(this.getFavoritesFromStorage().find(f => f.id === music.id))\n   },\n\n   // Permet d'ajouter/supprimer un favori du localStorage\n   toggleFavorite(music) {\n    if (this.isFavorite(music)) {\n        this.removeFavoriteFromStorage(music)\n    } else {\n        this.addFavoriteToStorage(music)\n    }\n\n   },\n  \n   // Ajoute un favori au localStorage\n   addFavoriteToStorage(music) {\n        const favorites = this.getFavoritesFromStorage()\n        favorites.push(music)\n        window.localStorage.setItem(STORAGE_FAVORITE_KEY, JSON.stringify(favorites))\n \n   },\n  \n   // Supprime un favori du localStorage\n   removeFavoriteFromStorage(music) {\n    const favorites = this.getFavoritesFromStorage()\n    const musicIndex = favorites.findIndex(f => f.id === music.id)\n    favorites.splice(musicIndex, 1)\n    window.localStorage.setItem(STORAGE_FAVORITE_KEY, JSON.stringify(favorites))\n \n   }\n}\n"]},"metadata":{},"sourceType":"module"}